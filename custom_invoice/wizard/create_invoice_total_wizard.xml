<?xml version="1.0"?>
<openerp>
	<data>

		

		<record id="view_create_invoice_total_button" model="ir.ui.view">
			<field name="name">Crear Factura Global</field>
			<field name="model">create.invoice.total.wizard</field>
			<field name="arch" type="xml">
				<form string="Create Invoice Global">
					<group cols="4" string="Filtro">
                        <group>
                        	<field name="date_from"/>
                        	<field name="pos_config_id"/>
                        </group>
                        <group>
                        	<field name="date_to"/>
                        	<field name="journal_id"/>
                        	<field name="amount_max"/>
                        </group>
                    </group>
                   	<group cols="4" string="Detalles">
                       <group>
                        	<field name="partner_id"/>
                        </group>
                        <group>
                        	<field name="invoice_format"/>
                        	<field name="product_id" attrs="{'invisible':[('invoice_format', 'in', ['detailed','compacta'])], 'required':[('invoice_format', 'not in', ['detailed','compacta'])]}" /> <!-- attrs="{'invisible':[('invoice_format', '=', 'detailed')], 'required':[('invoice_format', '!=', 'detailed')]}" -->
                        </group>
                    </group>
                    <group>
                    	<field name="order_num"/>
                    	<field name="total"/>
                    </group>

					<footer>
						<button name="action_create_invoice_total" string="Create" type="object"
							class="oe_highlight"  attrs="{'invisible':[('order_num', '=', 0)]}"/>
						<button name="action_validate_invoice_total" string="Validate" type="object"
							class="oe_highlight" />
						or
						<button string="Cancel" class="oe_link" special="cancel" />
					</footer>
				</form>
			</field>
		</record>
        
        <!-- wizard action on pos.order -->
        <act_window id="invoice_total_wizard_action"
            name="Crear Factura Global"
            src_model="pos.order"
            res_model="create.invoice.total.wizard"
            view_type="form" view_mode="form" target="new"/>

    <menuitem
        id="invoice_create_all_menu"
        parent="point_of_sale.menu_point_root"
        name="Crear Facturas"
        sequence="99"
        groups="point_of_sale.group_pos_manager"/>

    <menuitem
        id="invoice_total_wizard_menu"
        parent="invoice_create_all_menu"
        action="invoice_total_wizard_action"
        sequence="5"
        groups="point_of_sale.group_pos_manager"/>
	</data>
</openerp>
